function fitToContainer(){canvas.style.width="100%",canvas.style.height="100%",canvas.width=canvas.offsetWidth,canvas.height=canvas.offsetHeight}function getRandomFloat(a,b){return Math.random()*(b-a)+a}function calculateDistance(a,b,c,d){return Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))}function Dot(){this.dotX=getRandomFloat(1,canvas.width),this.dotY=getRandomFloat(1,canvas.height),this.dotVX=getRandomFloat(-dotSpeed,dotSpeed),this.dotVY=getRandomFloat(-dotSpeed,dotSpeed),this.dotR=getRandomFloat(dotSizeMin,dotSizeMax),this.moveDot=function(){this.dotX+=this.dotVX,this.dotY+=this.dotVY,(this.dotX+this.dotVX>canvas.width||this.dotX+this.dotVX<0)&&(this.dotVX=-this.dotVX),(this.dotY+this.dotVY>canvas.height||this.dotY+this.dotVY<0)&&(this.dotVY=-this.dotVY)},this.drawDot=function(){ctx.beginPath(),ctx.arc(this.dotX,this.dotY,this.dotR,0,2*Math.PI,!0),ctx.closePath(),ctx.fillStyle=dotRGB,ctx.fill()}}function Line(a,b,c,d){this.lineX1=a,this.lineY1=b,this.lineX2=c,this.lineY2=d,this.drawLine=function(){if(ctx.beginPath(),ctx.moveTo(this.lineX1,this.lineY1),ctx.lineTo(this.lineX2,this.lineY2),ctx.lineWidth=lineSize,interactive){var a=(this.lineX1+this.lineX2)/2,b=(this.lineY1+this.lineY2)/2;lineOpacity=0,calculateDistance(a,b,cursorX,cursorY)<mouseFalloff&&(lineOpacity=1,opacityFalloff&&(lineOpacity=(mouseFalloff-calculateDistance(a,b,cursorX,cursorY))/falloffAmount)),lineRGB="rgba("+lineRed+", "+lineGreen+", "+lineBlue+", "+lineOpacity+")"}ctx.strokeStyle=lineRGB,ctx.stroke()}}function setup(){fitToContainer();for(var a=0;a<dotCount;a++)points[a]=new Dot;window.requestAnimationFrame(draw)}function draw(){for(fitToContainer(),document.onmousemove=function(a){cursorX=a.pageX,cursorY=a.pageY},ctx.clearRect(0,0,canvas.width,canvas.height),i=0;i<dotCount;i++)for(j=i+1;j<dotCount;j++)if(calculateDistance(points[i].dotX,points[i].dotY,points[j].dotX,points[j].dotY)<lineDistance){var a=new Line(points[i].dotX,points[i].dotY,points[j].dotX,points[j].dotY);a.drawLine()}for(i=0;i<dotCount;i++)points[i].moveDot(),points[i].drawDot();window.requestAnimationFrame(draw)}var canvas=document.getElementById("userCanvas"),dotCount=300,lineDistance=120,interactive=!0,mouseFalloff=150,opacityFalloff=!0,falloffAmount=1*mouseFalloff,dotRed=100,dotGreen=100,dotBlue=100,dotOpacity=.9,lineRed=100,lineGreen=100,lineBlue=200,lineOpacity=.7,bgRed=255,bgGreen=255,bgBlue=255,bgOpacity=1,dotSizeMin=1,dotSizeMax=2.6,lineSize=.7,dotSpeed=.2,ctx=canvas.getContext("2d"),cursorX,cursorY,points=new Array(dotCount),lineRGB="rgba("+lineRed+", "+lineGreen+", "+lineBlue+", "+lineOpacity+")",dotRGB="rgba("+dotRed+", "+dotGreen+", "+dotBlue+", "+dotOpacity+")";canvas.style.background="rgba("+bgRed+", "+bgGreen+", "+bgBlue+", "+bgOpacity+")",window.addEventListener("DOMContentLoaded",function(){setup()});