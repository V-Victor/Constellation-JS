function fitToContainer(){Const.canvas.style.width="100%",Const.canvas.style.height="100%",Const.canvas.width=Const.canvas.offsetWidth,Const.canvas.height=Const.canvas.offsetHeight}function getRandomFloat(a,b){return Math.random()*(b-a)+a}function calculateDistance(a,b,c,d){return Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))}function Dot(){this.dotX=getRandomFloat(1,Const.canvas.width),this.dotY=getRandomFloat(1,Const.canvas.height),this.dotVX=getRandomFloat(-Const.dotSpeed,Const.dotSpeed),this.dotVY=getRandomFloat(-Const.dotSpeed,Const.dotSpeed),this.dotR=getRandomFloat(Const.dotSizeMin,Const.dotSizeMax),this.moveDot=function(){this.dotX+=this.dotVX,this.dotY+=this.dotVY,(this.dotX+this.dotVX>Const.canvas.width||this.dotX+this.dotVX<0)&&(this.dotVX=-this.dotVX),(this.dotY+this.dotVY>Const.canvas.height||this.dotY+this.dotVY<0)&&(this.dotVY=-this.dotVY)},this.drawDot=function(){Const.ctx.beginPath(),Const.ctx.arc(this.dotX,this.dotY,this.dotR,0,2*Math.PI,!0),Const.ctx.closePath(),Const.ctx.fillStyle=Const.dotRGB,Const.ctx.fill()}}function setup(){fitToContainer();for(var a=0;a<Const.dotCount;a++)Const.points[a]=new Dot;window.requestAnimationFrame(draw)}function draw(){for(fitToContainer(),document.onmousemove=function(a){Const.cursorX=a.pageX,Const.cursorY=a.pageY},Const.ctx.clearRect(0,0,Const.canvas.width,Const.canvas.height),i=0;i<Const.dotCount;i++)Const.points[i].moveDot();for(i=0;i<Const.dotCount;i++)for(j=i+1;j<Const.dotCount;j++)calculateDistance(Const.points[i].dotX,Const.points[i].dotY,Const.points[j].dotX,Const.points[j].dotY)<Const.lineDistance&&drawLine(Const.points[i].dotX,Const.points[i].dotY,Const.points[j].dotX,Const.points[j].dotY);for(i=0;i<Const.dotCount;i++)Const.points[i].drawDot();window.requestAnimationFrame(draw)}var Const={};Const.canvas=document.getElementById("userCanvas"),Const.dotCount=300,Const.lineDistance=120,Const.interactive=!0,Const.mouseFalloff=150,Const.opacityFalloff=!0,Const.falloffAmount=1*Const.mouseFalloff,Const.dotRed=100,Const.dotGreen=100,Const.dotBlue=100,Const.dotOpacity=.9,Const.lineRed=100,Const.lineGreen=100,Const.lineBlue=200,Const.lineOpacity=.7,Const.bgRed=255,Const.bgGreen=255,Const.bgBlue=255,Const.bgOpacity=1,Const.dotSizeMin=1,Const.dotSizeMax=2.6,Const.lineSize=.7,Const.dotSpeed=.2,Const.ctx=Const.canvas.getContext("2d"),Const.cursorX,Const.cursorY,Const.points=new Array(Const.dotCount),Const.lineRGB="rgba("+Const.lineRed+", "+Const.lineGreen+", "+Const.lineBlue+", "+Const.lineOpacity+")",Const.dotRGB="rgba("+Const.dotRed+", "+Const.dotGreen+", "+Const.dotBlue+", "+Const.dotOpacity+")",Const.canvas.style.background="rgba("+Const.bgRed+", "+Const.bgGreen+", "+Const.bgBlue+", "+Const.bgOpacity+")",drawLine=function(a,b,c,d){if(Const.ctx.beginPath(),Const.ctx.moveTo(a,b),Const.ctx.lineTo(c,d),Const.ctx.lineWidth=Const.lineSize,Const.interactive){var e=(a+c)/2,f=(b+d)/2;Const.lineOpacity=0,calculateDistance(e,f,Const.cursorX,Const.cursorY)<Const.mouseFalloff&&(Const.lineOpacity=1,Const.opacityFalloff&&(Const.lineOpacity=(Const.mouseFalloff-calculateDistance(e,f,Const.cursorX,Const.cursorY))/Const.falloffAmount)),Const.lineRGB="rgba("+Const.lineRed+", "+Const.lineGreen+", "+Const.lineBlue+", "+Const.lineOpacity+")"}Const.ctx.strokeStyle=Const.lineRGB,Const.ctx.stroke()},window.addEventListener("DOMContentLoaded",function(){setup()});
